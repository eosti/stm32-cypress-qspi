<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STM32 Cypress QSPI: STM32 Cypress QSPI</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STM32 Cypress QSPI
   </div>
   <div id="projectbrief">A library for communicating with Cypress FL- series QSPI flash memory chips</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">STM32 Cypress QSPI </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a>A library for communicating with Cypress FL- series QSPI flash memory chips</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Overview</h1>
<p>This library offers a number of helper functions to simplify communications by black-boxing the QSPI HAL function. All functions return type <code>HAL_StatusTypeDef</code> which will typically be either <code>HAL_OK</code> when the function succeeded, or <code>HAL_ERROR</code> if any error was encountered.</p>
<p>All functions have a <b>blocking</b> mode, where the functions will wait for the operation to complete. While acceptable for shorter operations, it is not preferred for longer operations as no other functions can be run at the same time.</p>
<p>Most functions have an <b>interrupt</b> (or IT) mode, where the function will offload operations to the QSPI peripheral. This allows the QSPI peripheral to run operations and interrupt only when more data is needed, so that the processor can do other things in the interim. Once the operation is completed, the QSPI peripheral will trigger an user-defined interrupt using the NVIC interface. This is preferred for any longer operations, such as reads, writes, or erases.</p>
<p>A few functions have a <b>direct memory access</b> (or DMA) mode, where the QSPI peripheral is granted direct access to system memory. This means that the QSPI peripheral no longer needs to trigger an interrupt every time it needs more data. However, due to the overhead associated with configuring DMA, this mode is only advantageous in longer reads or writes. Like IT mode, the QSPI peripheral will trigger an user-defined interrupt once the operation is completed.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Functions</h1>
<p>This is a non-exhaustive list of functions included in this library. Parameters and specifics can be found within the doxygen comments.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Cypress_QSPI_Read, Cypress_QSPI_ReadQuad</h2>
<p>These functions allow for reading from the external flash memory, in either blocking, IT, or DMA modes. The user passes the starting address and number of sequential bytes to read.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Cypress_QSPI_Program, Cypress_QSPI_ProgramQuad</h2>
<p>These functions allow for programming the external flash memory, in either blocking, IT, or DMA modes. The user passes the starting address and number of sequential bytes to write, as well as a pointer to the data to write.</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Cypress_QSPI_SectorErase, Cypress_QSPI_BulkErase</h2>
<p>These functions allow for erasing a single sector, or the entire flash memory. These can be operated in both blocking and IT modes.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Configuration functions</h2>
<p>Various functions exist to read and write the configuration of the flash memory. All functions are blocking only. The available operations include reading SR1, SR2, and CR, writing SR1 and CR, and enabling or disabling the write mode.</p>
<h1><a class="anchor" id="autotoc_md7"></a>
Example</h1>
<p>A example using this library is included for reference, based on the HAL QSPI examples built into STM32CubeIDE. A new project should be created, and then the example code can be copied into <code>main.c</code> and <code>main.h</code>.</p>
<h1><a class="anchor" id="autotoc_md8"></a>
Issues</h1>
<p>Any issues, comments, complaints, suggestions? File an issue! Or, better yet, submit a PR! </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Jul 19 2021 15:39:15 for STM32 Cypress QSPI by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
